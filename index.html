<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="color-scheme" content="dark light" />
    <title>Погода на неделю</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div id="bg" class="bg" aria-hidden="true"></div>

    <div class="app">
      <header class="topbar">
        <div class="topbar__title">
          <h1>Погода на 7 дней</h1>
          <p id="userCountLine" class="statline">Количество пользователей: <b id="userCount">—</b></p>
          <p id="subtitle" class="subtitle">Выберите город или используйте геолокацию</p>
        </div>

        <div class="topbar__actions">
          <button id="btnGeo" class="btn btn--icon" type="button" title="Моё местоположение" aria-label="Моё местоположение">
            <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true">
              <path
                d="M12 2a1 1 0 0 1 1 1v1.06A8.002 8.002 0 0 1 19.94 11H21a1 1 0 1 1 0 2h-1.06A8.002 8.002 0 0 1 13 19.94V21a1 1 0 1 1-2 0v-1.06A8.002 8.002 0 0 1 4.06 13H3a1 1 0 1 1 0-2h1.06A8.002 8.002 0 0 1 11 4.06V3a1 1 0 0 1 1-1Zm0 4a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm0 3a3 3 0 1 1 0 6 3 3 0 0 1 0-6Z"
                fill="currentColor"
              />
            </svg>
          </button>

          <button id="btnTheme" class="btn btn--icon btn--theme" type="button" title="Тема" aria-label="Тема">
            <span aria-hidden="true">☾</span>
          </button>

          <button id="btnUnits" class="btn btn--pill" type="button" title="Единицы измерения">°C</button>
        </div>
      </header>

      <main class="layout">
        <div class="side">
          <section class="search">
            <label class="searchbox" for="cityInput">
              <span class="searchbox__icon" aria-hidden="true"></span>
              <input id="cityInput" type="text" inputmode="search" autocomplete="off" placeholder="Город или населённый пункт" />
              <button id="btnClear" class="searchbox__clear" type="button" title="Очистить" aria-label="Очистить" hidden>
                <span aria-hidden="true">×</span>
              </button>
            </label>
            <div id="suggestions" class="suggestions" hidden></div>
            <div id="recent" class="recent" hidden></div>
          </section>

          <section id="status" class="status" hidden></section>

          <section id="clock" class="clock" hidden></section>

          <section id="current" class="current" hidden></section>
        </div>

        <section id="forecastSection">
          <div class="section-title">
            <span>Неделя</span>
            <button id="btnRefresh" class="btn btn--ghost" type="button" title="Обновить">Обновить</button>
          </div>
          <div id="forecast" class="forecast" aria-live="polite"></div>
        </section>
      </main>
    </div>

    <div id="sheetBackdrop" class="sheet-backdrop" hidden></div>
    <div id="sheet" class="sheet" aria-hidden="true" role="dialog" aria-modal="true" aria-label="Детали прогноза">
      <div class="sheet__handle" aria-hidden="true"></div>
      <div id="sheetContent" class="sheet__content"></div>
    </div>

    <noscript>
      <div class="noscript">Для работы приложения нужен JavaScript.</div>
    </noscript>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script type="module" src="./app.js"></script>
  </body>
</html>
